CREATE TABLE S(ID INT,NAME VARCHAR,DEG VARCHAR) PRIMARY KEY ID;
CREATE TABLE C(ID INT,TITLE VARCHAR,CRD INT) PRIMARY KEY ID;
CREATE TABLE SC(STID INT,COID INT,GRADE INT) FOREIGN KEY STID REFERENCES S ON DELETE CASCADE ON UPDATE CASCADE FOREIGN KEY COID REFERENCES C ON DELETE RESTRICT ON UPDATE RESTRICT;
INSERT INTO S VALUES (111,"S111","bs");
INSERT INTO S VALUES (222,"S222","ms");
INSERT INTO S VALUES (333,"S333","bs");
INSERT INTO S VALUES (444,"S444","ms");
INSERT INTO C VALUES (1,"C++",3);
INSERT INTO C VALUES (2,"Java Programming",3);
INSERT INTO C VALUES (2,"OOP",3);
INSERT INTO SC VALUES (111,1,19);
INSERT INTO SC VALUES (555,1,19);
DELETE FROM S WHERE ID=111;
SELECT STID,COID,GRADE FROM SC WHERE TRUE;
INSERT INTO S VALUES (111,"S111","bs");
INSERT INTO SC VALUES (111,1,19);
DELETE FROM C WHERE ID=1;
UPDATE C SET ID=11 WHERE ID=1;
UPDATE S SET ID=11 WHERE ID=111;
SELECT STID,COID,GRADE FROM SC WHERE TRUE;

exit

CREATE TABLE STT (STID INT, FNAME VARCHAR, LNAME VARCHAR) PRIMARY KEY STID;
CREATE TABLE COT (COID INT, NAME VARCHAR) PRIMARY KEY COID;
CREATE TABLE STCOT(ID INT, STID INT, COID INT, GRADE INT) PRIMARY KEY ID FOREIGN KEY STID REFERENCES STT ON DELETE CASCADE ON UPDATE CASCADE FOREIGN KEY COID REFERENCES COT ON DELETE RESTRICT ON UPDATE RESTRICT;
INSERT INTO STT values (1000, "Soheil", "Behnezhad");
INSERT INTO STT values (2000, "Mahsa", "Derakhshan");
INSERT INTO STT values (3000, "Sepehr", "Behnezhad");
INSERT INTO STT values (4000, "Shahab", "Behnezhad");
INSERT INTO STT values (5000, "Faranak", "Shatery");
INSERT INTO STT values (6000, "Sepehr", "Abbasi");

INSERT INTO COT values(1, "DB");
INSERT INTO COT values(2, "DSD");

INSERT INTO STCOT values(1, 1000, 1, 20);
INSERT INTO STCOT values(2, 2000, 2, 19);
INSERT INTO STCOT values(3, 1000, 2, 20);



SELECT ID FROM STCOT WHERE TRUE;
exit

CREATE TABLE S(ID INT,NAME VARCHAR,DEG VARCHAR) PRIMARY KEY ID;
CREATE TABLE C(ID INT,TITLE VARCHAR,CRD INT) PRIMARY KEY ID;
CREATE TABLE SC(STID INT,COID INT,GRADE INT) FOREIGN KEY STID REFERENCES S ON DELETE CASCADE ON UPDATE CASCADE FOREIGN KEY COID REFERENCES C ON DELETE RESTRICT ON UPDATE RESTRICT;
INSERT INTO S VALUES (111,"S111","bs");
INSERT INTO S VALUES (222,"S222","ms");
INSERT INTO S VALUES (333,"S333","bs");
INSERT INTO S VALUES (444,"S444","ms");
INSERT INTO C VALUES (1,"C++",3);
INSERT INTO C VALUES (2,"Java Programming",3);
INSERT INTO C VALUES (2,"OOP",3);
INSERT INTO SC VALUES (111,1,19);
INSERT INTO SC VALUES (555,1,19);
DELETE FROM S WHERE ID=111;
SELECT STID,COID,GRADE FROM SC WHERE TRUE;
INSERT INTO S VALUES (111,"S111","bs");
INSERT INTO SC VALUES (111,1,19);
DELETE FROM C WHERE ID=1;
UPDATE C SET ID=11 WHERE ID=1;
UPDATE S SET ID=11 WHERE ID=111;
SELECT STID,COID,GRADE FROM SC WHERE TRUE;
exit