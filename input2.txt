CREATE TABLE S(ID INT,NAME VARCHAR,DEG VARCHAR,MJR VARCHAR,DID INT) PRIMARY KEY ID;
CREATE TABLE SS(SID INT,DID INT,MID INT) PRIMARY KEY MID FOREIGN KEY SID REFERENCES S ON DELETE RESTRICT ON UPDATE RESTRICT;
INSERT INTO S VALUES (111,"S111","bs","S",1);
INSERT INTO S VALUES (222,"S222","ms","S",1);
INSERT INTO S VALUES (333,"S333","bs","I",1);
INSERT INTO S VALUES (444,"S444","ms","P",2);
INSERT INTO SS VALUES (111,1,1);
INSERT INTO SS VALUES (222,2,2);
INSERT INTO SS VALUES (333,3,3);
INSERT INTO SS VALUES (444,4,4);
INSERT INTO SS VALUES (555,5,5);
DELETE FROM S WHERE ID=111;
SELECT ID,NAME FROM S WHERE TRUE;
SELECT SID,DID,MID FROM SS WHERE TRUE;
UPDATE S SET ID=666 WHERE ID=222;
SELECT ID,NAME FROM S WHERE TRUE;
SELECT SID,DID,MID FROM SS WHERE TRUE;
SELECT SID,DID,MID FROM SS WHERE TRUE GROUP BY SID,DID HAVING MAX(SID)>0;
