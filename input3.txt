CREATE TABLE S(ID INT,NAME VARCHAR,DEG VARCHAR,MJR VARCHAR,DID INT) PRIMARY KEY ID;
CREATE TABLE SS(SID INT,DID INT,MID INT) PRIMARY KEY MID FOREIGN KEY SID REFERENCES S ON DELETE CASCADE ON UPDATE CASCADE;
INSERT INTO S VALUES (111,"S111","bs","S",1);
INSERT INTO S VALUES (222,"S222","ms","S",1);
INSERT INTO S VALUES (333,"S333","bs","I",1);
INSERT INTO S VALUES (444,"S444","ms","P",2);
INSERT INTO SS VALUES (111,1,1);
INSERT INTO SS VALUES (222,2,2);
INSERT INTO SS VALUES (333,3,3);
INSERT INTO SS VALUES (444,4,4);
CREATE VIEW V1 AS SELECT ID,NAME,DEG FROM S WHERE TRUE;
CREATE VIEW V2 AS SELECT ID,NAME,DEG FROM V1 WHERE TRUE;
CREATE VIEW V3 AS SELECT ID,NAME FROM V2 WHERE ID>200;
CREATE VIEW V4 AS SELECT ID,NAME FROM V3 WHERE TRUE;
INSERT INTO V1 VALUES (300,"S300","ms");
SELECT ID,NAME FROM V4 WHERE TRUE;
SELECT ID,NAME FROM V3 WHERE TRUE;
INSERT INTO V1 VALUES (555,"S555","bs");
SELECT ID,NAME FROM V3 WHERE TRUE;
SELECT ID,NAME FROM V1 WHERE TRUE;
SELECT ID,NAME,DID FROM S WHERE TRUE;
UPDATE V3 SET NAME="ALI" WHERE ID=222;
SELECT ID,NAME FROM V2 WHERE TRUE;
DELETE FROM V2 WHERE NAME="S555";
SELECT ID,NAME,DID FROM S WHERE TRUE;
DELETE FROM V3 WHERE ID=111;
SELECT ID,NAME FROM S WHERE TRUE;